{% extends 'base.html.twig' %}

{% block title %}Profil | {{ parent() }}{% endblock %}

{% block script %}
    {{ parent() }}
{% endblock %}

{% block body %}

    <div class="columns">
        <div class="column is-1"></div>
        <div class="column is-4 mt-6">
            <div class="card m-6">
                <div class="card-image">
                    <figure class="image is-6by3">
                        {% if app.user.pictureFilename == "" %}
                            <img src="https://bulma.io/images/placeholders/1280x960.png" alt="Placeholder image">
                        {% else %}
                            <img src="{{ asset('img/profile/' ~ app.user.pictureFilename ) }}" alt="Placeholder image">
                            <a class="button is-primary" href="{{ path('participant_profile_deleted') }}">Supprimer la
                                photo</a>
                        {% endif %}
                    </figure>
                </div>
            </div>
        </div>
        <div class="column is-6 ml-2">
            <h1 class="has-text-centered title is-2 mt-5 ">{{ app.user.username }}</h1>

            {{ form_start(profileForm) }}

            <div class="columns is-mobile mt-3">
                <div class="column is-3">
                    {{ form_label(profileForm.username, null, {'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column is-8">
                    {{ form_widget(profileForm.username, {'attr': {'class': 'input is-primary'}}) }}
                </div>
            </div>

            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.firstname, null, {'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column is-8">
                    {{ form_widget(profileForm.firstname, {'attr': {'class': 'input is-primary'}}) }}
                </div>
            </div>

            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.name, null, {'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column is-8">
                    {{ form_widget(profileForm.name, {'attr': {'class': 'input is-primary'}}) }}
                </div>
            </div>

            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.phone, null, {'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column is-8">
                    {{ form_widget(profileForm.phone, {'attr': {'class': 'input is-primary'}}) }}
                </div>
            </div>

            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.email, null, {'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column is-8">
                    {{ form_widget(profileForm.email, {'attr': {'class': 'input is-primary'}}) }}
                </div>
            </div>

            <!-- DÃ©composition RepeatedType : first (mdp) et second (confirmation)-->
            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.password.first, null, { 'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column is-8">
                    {{ form_widget(profileForm.password.first, { 'attr': {'class': 'input is-primary'} }) }}
                </div>
            </div>

            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.password.second, null, { 'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column is-8">
                    {{ form_widget(profileForm.password.second, { 'attr': {'class': 'input is-primary'} }) }}
                </div>
            </div>

            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.campus, null, {'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column">
                    {{ form_widget(profileForm.campus, {'attr': {'class': 'input is-primary is-uppercase'}}) }}
                </div>
            </div>

            <div class="columns is-mobile">
                <div class="column is-3">
                    {{ form_label(profileForm.pictureFilename, null, {'attr': {'class': 'has-text-link'} }) }}
                </div>
                <div class="column">
                    {{ form_widget(profileForm.pictureFilename) }}
                </div>
            </div>

            <div class="section columns">
                <div class="column"></div>
                <button type="submit" class="button is-medium is-link is-light is-3">Enregistrer</button>
                <div class="column"></div>
                <a class="button is-medium is-link is-light is-3" href="{{ path('main_eventsList') }}">Annuler</a>
                <div class="column"></div>
            </div>
        </div>
        {{ form_end(profileForm) }}

    </div>
{% endblock %}
